!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("d3")):"function"==typeof define&&define.amd?define(["d3"],e):(n.d3=n.d3||{},n.d3.x3dom=e(n.d3))}(this,function(n){"use strict";var e=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n};function t(t){var r,a,i,o,l,c=void 0!==t.key?1:2,u=function(){if(1===c)return n.values(t)[0]}(),s=function(){if(2===c)return t.map(function(n){return n.key})}(),d=function(){if(2===c){var e={};return n.map(t).values().forEach(function(n){var t=n.key;n.values.forEach(function(n){e[t]=void 0===e[t]?0:e[t],e[t]+=n.value})}),e}}(),f=function(){if(2===c)return n.max(n.values(d))}(),h=function(){if(1===c)return n.values(t.values).map(function(n){return n.key});var e=[];return n.map(t).values().forEach(function(n){var t=[];n.values.forEach(function(n,e){t[e]=n.key}),e=function(n,e){for(var t=[],r=n.concat(e),a=r.length,i={};a--;){var o=r[a];i[o]||(t.unshift(o),i[o]=!0)}return t}(t,e)}),e}(),v=function(){if(1===c)return n.sum(t.values,function(n){return n.value})}(),p=function(){if(2===c){var e={};return n.map(t).values().forEach(function(n){n.values.forEach(function(n){var t=n.key;e[t]=void 0===e[t]?0:e[t],e[t]+=n.value})}),e}}(),g=function(){if(2===c)return n.max(n.values(p))}(),m=function(){if(1===c)return n.min(t.values,function(n){return+n.value});var e=void 0;return n.map(t).values().forEach(function(t){t.values.forEach(function(t){e=void 0===e?t.value:n.min([e,+t.value])})}),+e}(),x=function(){if(1===c)return n.max(t.values,function(n){return+n.value});var e=void 0;return n.map(t).values().forEach(function(t){t.values.forEach(function(t){e=void 0===e?t.value:n.max([e,+t.value])})}),+e}(),y=(r=void 0,a=void 0,i=void 0,1===c?(r=n.max(t.values,function(n){return+n.x}),a=n.max(t.values,function(n){return+n.y}),i=n.max(t.values,function(n){return+n.z})):n.map(t).values().forEach(function(e){e.values.forEach(function(e){r=void 0===r?e.x:n.max([r,+e.x]),a=void 0===a?e.y:n.max([a,+e.y]),i=void 0===i?e.z:n.max([i,+e.z])})}),{x:r,y:a,z:i}),S=(o=0,2===c&&n.map(t).values().forEach(function(e){e.values.forEach(function(e){var t,r;o=n.max([o,(t=e.value,r=(""+t).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/),r?Math.max(0,(r[1]?r[1].length:0)-(r[2]?+r[2]:0)):0)])})}),o>20?20:o),b=[+(m+.15*(l=x-m)).toFixed(S),+(m+.4*l).toFixed(S),+(m+.55*l).toFixed(S),+(m+.9*l).toFixed(S)];return{summary:function(){return{dataStructure:c,rowKey:u,rowTotal:v,rowKeys:s,rowTotals:d,rowTotalsMax:f,columnKeys:h,columnTotals:p,columnTotalsMax:g,minValue:m,maxValue:x,maxCoordinates:y,maxDecimalPlace:S,thresholds:b}},rotate:function(){var n=t.map(function(n){return n.key});return t[0].values.map(function(n){return n.key}).map(function(r,a){return{key:r,values:n.map(function(n,r){var i=e({},t[r].values[a]);return i.key=n,i})}})}}}var r={x:[1,0,0],y:[0,1,0],z:[0,0,1]},a={x:[1,1,0,Math.PI],y:[0,0,0,0],z:[0,1,1,Math.PI]};function i(){var n={x:40,y:40,z:40},e="black",t="x3dAxis",i=void 0,o=void 0,l=void 0,c=[],u=null,s=null,d=1,f=1;function h(n){return r[n]}function v(n){return a[n]}function p(n){n.classed(t,!0);var r=function(n,e){return n.append("appearance").append("material").attr("diffuseColor",e||"black"),n},a=i.ticks?i.ticks.apply(i,c):i.domain(),p=null===u?a:u,g=i.tickFormat?i.tickFormat.apply(i,c):function(n){return n},m=null===s?g:s,x=i.range(),y=x[0],S=x[x.length-1],b=h(o),z=h(l),w=v(o),k=v(l),A=n.selectAll("transform").data([null]),L=n.selectAll(".tick").data(p,i).order(),O=L.exit(),P=L.enter().append("transform").attr("translation",function(n){return b.map(function(e){return i(n)*e}).join(" ")}).attr("class","tick"),V=L.select(".tickLine"),D=L.select("billboard");A=A.merge(A.enter().append("transform").attr("rotation",w.join(" ")).attr("translation",b.map(function(n){return n*(y+S)/2}).join(" ")).append("shape").call(r,e).attr("class","domain")),L=L.merge(P),V=V.merge(P.append("transform"));var M=P.append("transform");M.attr("translation",z.map(function(n){return-n*f})).append("billboard").attr("axisOfRotation","0 0 0").append("shape").call(r,"black").append("text").attr("string",m).append("fontstyle").attr("size",1.3).attr("family","SANS").attr("style","BOLD").attr("justify","MIDDLE"),D=D.merge(M),O.remove(),A.append("cylinder").attr("radius",.1).attr("height",S-y),V.attr("translation",z.map(function(n){return n*d/2}).join(" ")).attr("rotation",k.join(" ")).attr("class","tickLine").append("shape").call(r).append("cylinder").attr("radius",.05).attr("height",d)}var g=Array.prototype.slice;return p.dimensions=function(e){return arguments.length?(n=e,this):n},p.scale=function(n){return arguments.length?(i=n,p):i},p.color=function(n){return arguments.length?(e=n,p):e},p.dir=function(n){return arguments.length?(o=n,p):o},p.tickDir=function(n){return arguments.length?(l=n,p):l},p.ticks=function(){return c=g.call(arguments),p},p.tickArguments=function(n){return arguments.length?(c=null===n?[]:g.call(n),p):c.slice()},p.tickValues=function(n){return arguments.length?(u=null===n?null:g.call(n),p):u&&u.slice()},p.tickFormat=function(n){return arguments.length?(s=n,p):s},p.tickSize=function(n){return arguments.length?(d=+n,p):d},p.tickPadding=function(n){return arguments.length?(f=+n,p):f},p}function o(){var e={x:40,y:40,z:2},r=["orange","red","yellow","steelblue","green"],a="x3dBars",i=void 0,o=void 0,l=void 0;function c(c){c.classed(a,!0),c.each(function(a){var u,s,d;u=t(a).summary(),s=u.columnKeys,d=u.maxValue,l=void 0===l?n.scaleOrdinal().domain(s).range(r):l,i=void 0===i?n.scaleBand().domain(s).rangeRound([0,e.x]).padding(.3):i,o=void 0===o?n.scaleLinear().domain([0,d]).range([0,e.y]):o;var f=c.selectAll(".bar").data(function(n){return n.values}),h=f.enter().append("transform").classed("bar",!0).attr("scale",function(n){return i.bandwidth()+" "+o(n.value)+" "+e.z}).attr("translation",function(n){return i(n.key)+" "+o(n.value)/2+" 0"}).append("shape").merge(f);h.append("box").attr("size","1.0 1.0 1.0"),h.append("appearance").append("material").attr("diffuseColor",function(n){return l(n.key)}).attr("ambientIntensity","0.1"),f.transition().attr("scale",function(n){return i.bandwidth()+" "+o(n.value)+" "+e.z}).attr("translation",function(n){return i(n.key)+" "+o(n.value)/2+" 0"})})}return c.dimensions=function(n){return arguments.length?(e=n,this):e},c.xScale=function(n){return arguments.length?(i=n,c):i},c.yScale=function(n){return arguments.length?(o=n,c):o},c.colorScale=function(n){return arguments.length?(l=n,c):l},c.colors=function(n){return arguments.length?(r=n,c):r},c}function l(){var e={x:40,y:40,z:40},t="orange",r="x3dBubbles",a=void 0,i=void 0,o=void 0,l=void 0,c=[.5,4];function u(u){u.classed(r,!0),u.each(function(r){var s,d,f,h,v;s=r,d=n.max(s.values,function(n){return+n.x}),f=n.max(s.values,function(n){return+n.y}),h=n.max(s.values,function(n){return+n.z}),v=n.max(s.values,function(n){return+n.value}),a=void 0===a?n.scaleLinear().domain([0,d]).range([0,e.x]):a,i=void 0===i?n.scaleLinear().domain([0,f]).range([0,e.y]):i,o=void 0===o?n.scaleLinear().domain([0,h]).range([0,e.z]):o,l=void 0===l?n.scaleLinear().domain([0,v]).range(c):l;var p=function(n,e){return n.append("appearance").append("material").attr("diffuseColor",e||"black"),n},g=u.selectAll(".point").data(function(n){return n.values}),m=g.enter().append("transform").attr("class","point").attr("translation",function(n){return a(n.x)+" "+i(n.y)+" "+o(n.z)}).attr("onmouseover","d3.select(this).select('billboard').attr('render', true);").attr("onmouseout","d3.select(this).select('transform').select('billboard').attr('render', false);").merge(g);m.append("shape").call(p,t).append("sphere").attr("radius",function(n){return l(n.value)}),m.append("transform").attr("translation","0.8 0.8 0.8").append("billboard").attr("render",!1).attr("axisOfRotation","0 0 0").append("shape").call(p,"blue").append("text").attr("class","labelText").attr("string",function(n){return n.key}).append("fontstyle").attr("size",1).attr("family","SANS").attr("style","BOLD").attr("justify","START").attr("render",!1)})}return u.dimensions=function(n){return arguments.length?(e=n,this):e},u.xScale=function(n){return arguments.length?(a=n,u):a},u.yScale=function(n){return arguments.length?(i=n,u):i},u.zScale=function(n){return arguments.length?(o=n,u):o},u.sizeScale=function(n){return arguments.length?(l=n,u):l},u.sizeDomain=function(n){return arguments.length?(c=n,u):c},u.color=function(n){return arguments.length?(t=n,this):t},u}var c={axis:i,axisThreePlane:function(){var n={x:40,y:40,z:40},e=["blue","red","green"],t="x3dAxisThreePlane",r=void 0,a=void 0,o=void 0,l=void 0;function c(n){n.classed(t,!0).selectAll("group").data(["xzAxis","yzAxis","yxAxis","zxAxis"]).enter().append("group").attr("class",function(n){return n});var e=i().scale(r).dir("x").tickDir("z").tickSize(o.range()[1]-o.range()[0]).tickPadding(r.range()[0]).color("blue"),l=i().scale(a).dir("y").tickDir("z").tickSize(o.range()[1]-o.range()[0]).color("red"),c=i().scale(a).dir("y").tickDir("x").tickSize(r.range()[1]-r.range()[0]).tickFormat("").color("red"),u=i().scale(o).dir("z").tickDir("x").tickSize(r.range()[1]-r.range()[0]).color("black");n.select(".xzAxis").call(e),n.select(".yzAxis").call(l),n.select(".yxAxis").call(c),n.select(".zxAxis").call(u)}return c.dimensions=function(e){return arguments.length?(n=e,this):n},c.xScale=function(n){return arguments.length?(r=n,c):r},c.yScale=function(n){return arguments.length?(a=n,c):a},c.zScale=function(n){return arguments.length?(o=n,c):o},c.colorScale=function(n){return arguments.length?(l=n,c):l},c.colors=function(n){return arguments.length?(e=n,c):e},c},bars:o,barsMultiSeries:function(){var e={x:40,y:40,z:40},r=["orange","red","yellow","steelblue","green"],a="x3dBarsMultiSeries",i=void 0,l=void 0,c=void 0,u=void 0;function s(s){s.classed(a,!0),s.each(function(a){var d,f,h,v;d=t(a).summary(),f=d.rowKeys,h=d.columnKeys,v=d.maxValue,u=void 0===u?n.scaleOrdinal().domain(h).range(r):u,i=void 0===i?n.scaleBand().domain(h).rangeRound([0,e.x]).padding(.5):i,l=void 0===l?n.scaleLinear().domain([0,v]).range([0,e.y]):l,c=void 0===c?n.scaleBand().domain(f).range([0,e.z]).padding(.7):c;var p=o().xScale(i).yScale(l).dimensions({x:e.x,y:e.y,z:c.bandwidth()}).colors(r),g=s.selectAll(".barGroup").data(a);g.enter().append("transform").classed("barGroup",!0).attr("translation",function(n){return"0 0 "+c(n.key)}).append("group").call(p).merge(g),g.exit().remove()})}return s.dimensions=function(n){return arguments.length?(e=n,this):e},s.xScale=function(n){return arguments.length?(i=n,s):i},s.yScale=function(n){return arguments.length?(l=n,s):l},s.zScale=function(n){return arguments.length?(c=n,s):c},s.colorScale=function(n){return arguments.length?(u=n,s):u},s.colors=function(n){return arguments.length?(r=n,s):r},s},bubbles:l,bubblesMultiSeries:function(){var e={x:40,y:40,z:40},r=["green","red","yellow","steelblue","orange"],a="x3dBubblesMultiSeries",i=void 0,o=void 0,c=void 0,u=void 0,s=void 0,d=[.5,4];function f(d){d.classed(a,!0),d.each(function(a){var f,h,v,p;f=t(a).summary(),h=f.rowKeys,v=f.maxCoordinates,p=f.maxValue,u=void 0===u?n.scaleOrdinal().domain(h).range(r):u,i=void 0===i?n.scaleLinear().domain([0,v.x]).range([0,e.x]):i,o=void 0===o?n.scaleLinear().domain([0,v.y]).range([0,e.y]):o,c=void 0===c?n.scaleLinear().domain([0,v.z]).range([0,e.z]):c,s=void 0===s?n.scaleLinear().domain([0,p]).range([.5,3]):s;var g=l().xScale(i).yScale(o).zScale(c).sizeScale(s).color(function(n){return u(n.key)}),m=d.selectAll(".bubbleGroup").data(a);m.enter().append("group").classed("bubbleGroup",!0).each(function(e){var t=u(e.key);g.color(t),n.select(this).call(g)}).merge(m),m.exit().remove()})}return f.dimensions=function(n){return arguments.length?(e=n,this):e},f.xScale=function(n){return arguments.length?(i=n,f):i},f.yScale=function(n){return arguments.length?(o=n,f):o},f.zScale=function(n){return arguments.length?(c=n,f):c},f.colorScale=function(n){return arguments.length?(u=n,f):u},f.sizeScale=function(n){return arguments.length?(s=n,f):s},f.sizeDomain=function(n){return arguments.length?(d=n,f):d},f.colors=function(n){return arguments.length?(r=n,f):r},f},surfaceArea:function(){var e={x:40,y:40,z:40},r=["blue","red"],a="x3dSurfaceArea",i=void 0,o=void 0,l=void 0,c=void 0;function u(n){return n.reduce(function(n,e){return n.concat(e)},[]).reduce(function(n,e){return n.concat(e)},[]).join(" ")}function s(s){s.classed(a,!0),s.each(function(a){var d,f,h,v;d=t(a).summary(),f=d.rowKeys,h=d.columnKeys,v=d.maxValue,c=void 0===c?n.scaleLinear().domain([0,v]).range(r).interpolate(n.interpolateLab):c,i=void 0===i?n.scalePoint().domain(f).range([0,e.x]):i,o=void 0===o?n.scaleLinear().domain([0,v]).range([0,e.y]):o,l=void 0===l?n.scalePoint().domain(h).range([0,e.z]):l;var p=a.length,g=a[0].values.length,m=Array.apply(0,Array(p-1)).map(function(n,e){return Array.apply(0,Array(g-1)).map(function(n,t){var r=t+e*g;return[r,r+g,r+g+1,r+1,r,-1]})}),x=Array.apply(0,Array(p-1)).map(function(n,e){return Array.apply(0,Array(g-1)).map(function(n,t){var r=t+e*g;return[r,r+1,r+g+1,r+g,r,-1]})}),y=u(m.concat(x)),S=s.selectAll(".surface").data([a]).enter().append("shape").append("indexedfaceset").attr("coordIndex",y);S.append("coordinate").attr("point",function(n){return u(n.map(function(n){return n.values.map(function(e){return[i(n.key),o(e.value),l(e.key)]})}))}),S.append("color").attr("color",function(e){return u(e.map(function(e){return e.values.map(function(e){var t=n.color(c(e.value));return Math.round(t.r/2.55)/100+" "+Math.round(t.g/2.55)/100+" "+Math.round(t.b/2.55)/100})}))})})}return s.dimensions=function(n){return arguments.length?(e=n,this):e},s.xScale=function(n){return arguments.length?(i=n,s):i},s.yScale=function(n){return arguments.length?(o=n,s):o},s.zScale=function(n){return arguments.length?(l=n,s):l},s.colorScale=function(n){return arguments.length?(c=n,s):c},s.colors=function(n){return arguments.length?(r=n,s):r},s},viewpoint:function(){var n=[0,0,0],e=[80,15,80],t=[0,1,0,.8],r=.8,a="x3dViewpoint";function i(i){i.append("viewpoint").classed(a,!0).attr("centerOfRotation",n.join(" ")).attr("position",e.join(" ")).attr("orientation",t.join(" ")).attr("fieldOfView",r).attr("set_bind","true")}return i.quickView=function(a){switch(a){case"left":n=[0,0,0],e=[37.10119,18.70484,51.01594],t=[.06724,.99767,-.01148,.33908],r=1;break;case"side":n=[20,0,0],e=[20,20,50],t=[0,0,0,0],r=1;break;case"top":n=[0,0,0],e=[27.12955,106.67181,31.65828],t=[-.86241,.3749,.34013,1.60141],r=1;break;case"dimetric":default:n=[0,0,0],e=[80,15,80],t=[0,1,0,.8],r=.8}return i},i.centerOfRotation=function(e){return arguments.length?(n=e,i):n},i.viewPosition=function(n){return arguments.length?(e=n,i):e},i.viewOrientation=function(n){return arguments.length?(t=n,i):t},i.fieldOfView=function(n){return arguments.length?(r=n,i):r},i},ribbon:function(){var e={x:40,y:40,z:40},r="red",a="x3dRibbon",i=void 0,o=void 0;function l(l){l.classed(a,!0),l.each(function(a){var c,u,s;c=t(a).summary(),u=c.columnKeys,s=c.maxValue,i=void 0===i?n.scaleBand().domain(u).rangeRound([0,e.x]).padding(.3):i,o=void 0===o?n.scaleLinear().domain([0,s]).range([0,e.y]):o;var d=l.selectAll(".point").data(function(n){return n.values}).enter().append("transform").attr("translation",function(n){return i(n.key)+" "+o(n.value)/2+" 0"}).attr("rotation",function(){return"0,-1,0,1.57079633"}).append("shape");d.append("rectangle2d").attr("size",function(n){return"5 "+o(n.value)}).attr("solid","true"),d.append("appearance").append("twosidedmaterial").attr("diffuseColor",r)})}return l.dimensions=function(n){return arguments.length?(e=n,this):e},l.xScale=function(n){return arguments.length?(i=n,l):i},l.yScale=function(n){return arguments.length?(o=n,l):o},l.color=function(n){return arguments.length?(r=n,this):r},l}};var u={barChartMultiSeries:function(){var e=500,r=500,a={x:40,y:40,z:40},i=["green","red","yellow","steelblue","orange"],o="x3dBarChartMultiSeries",l=!1,u=void 0,s=void 0,d=void 0,f=void 0;function h(h){var v=h.append("x3d").attr("width",e+"px").attr("height",r+"px");l&&v.attr("showLog","true").attr("showStat","true");var p=v.append("scene");p.classed(o,!0).selectAll("group").data(["axis","chart"]).enter().append("group").attr("class",function(n){return n});var g=c.viewpoint().centerOfRotation([a.x/2,a.y/2,a.z/2]);p.call(g),p.append("directionallight").attr("direction","1 0 -1").attr("on","true").attr("intensity","0.4").attr("shadowintensity","0"),p.each(function(e){var r,o,l,h;r=t(e).summary(),o=r.rowKeys,l=r.columnKeys,h=r.maxValue,f=void 0===f?n.scaleOrdinal().domain(l).range(i):f,u=void 0===u?n.scaleBand().domain(l).rangeRound([0,a.x]).padding(.5):u,s=void 0===s?n.scaleLinear().domain([0,h]).range([0,a.y]).nice():s,d=void 0===d?n.scaleBand().domain(o).range([0,a.z]).padding(.7):d;var v=c.axisThreePlane().xScale(u).yScale(s).zScale(d),g=c.barsMultiSeries().xScale(u).yScale(s).zScale(d).colors(i);p.select(".axis").call(v),p.select(".chart").datum(e).call(g)})}return h.width=function(n){return arguments.length?(e=n,this):e},h.height=function(n){return arguments.length?(r=n,this):r},h.dimensions=function(n){return arguments.length?(a=n,this):a},h.xScale=function(n){return arguments.length?(u=n,h):u},h.yScale=function(n){return arguments.length?(s=n,h):s},h.zScale=function(n){return arguments.length?(d=n,h):d},h.colorScale=function(n){return arguments.length?(f=n,h):f},h.colors=function(n){return arguments.length?(i=n,h):i},h.debug=function(n){return arguments.length?(l=n,h):l},h},barChartVertical:function(){var e=500,r=500,a={x:40,y:40,z:40},i=["green","red","yellow","steelblue","orange"],o="x3dBarChartVertical",l=!1,u=void 0,s=void 0,d=void 0;function f(f){var h=f.append("x3d").attr("width",e+"px").attr("height",r+"px");l&&h.attr("showLog","true").attr("showStat","true");var v=h.append("scene");v.classed(o,!0).selectAll("group").data(["xAxis","yAxis","chart"]).enter().append("group").attr("class",function(n){return n});var p=c.viewpoint().quickView("left");v.call(p),v.each(function(e){var r,o,l;r=t(e).summary(),o=r.columnKeys,l=r.maxValue,d=void 0===d?n.scaleOrdinal().domain(o).range(i):d,u=void 0===u?n.scaleBand().domain(o).rangeRound([0,a.x]).padding(.5):u,s=void 0===s?n.scaleLinear().domain([0,l]).range([0,a.y]).nice():s;var f=c.axis().scale(u).dir("x").tickDir("y"),h=c.axis().scale(s).dir("y").tickDir("x").tickSize(s.range()[1]-s.range()[0]),p=c.bars().xScale(u).yScale(s).colors(i);v.select(".xAxis").call(f),v.select(".yAxis").call(h),v.select(".chart").datum(e).call(p)})}return f.width=function(n){return arguments.length?(e=n,this):e},f.height=function(n){return arguments.length?(r=n,this):r},f.dimensions=function(n){return arguments.length?(a=n,this):a},f.xScale=function(n){return arguments.length?(u=n,f):u},f.yScale=function(n){return arguments.length?(s=n,f):s},f.colorScale=function(n){return arguments.length?(d=n,f):d},f.colors=function(n){return arguments.length?(i=n,f):i},f.debug=function(n){return arguments.length?(l=n,f):l},f},bubbleChart:function(){var e=500,r=500,a={x:40,y:40,z:40},i=["green","red","yellow","steelblue","orange"],o="x3dBubbleChart",l=!1,u=void 0,s=void 0,d=void 0,f=void 0,h=void 0,v=[.5,4];function p(p){var g=p.append("x3d").attr("width",e+"px").attr("height",r+"px");l&&g.attr("showLog","true").attr("showStat","true");var m=g.append("scene");m.classed(o,!0).selectAll("group").data(["axis","chart"]).enter().append("group").attr("class",function(n){return n});var x=c.viewpoint().centerOfRotation([a.x/2,a.y/2,a.z/2]);m.call(x),m.append("directionallight").attr("direction","1 0 -1").attr("on","true").attr("intensity","0.4").attr("shadowintensity","0"),m.each(function(e){var r,o,l,p;r=t(e).summary(),o=r.rowKeys,l=r.maxCoordinates,p=r.maxValue,u=void 0===u?n.scaleLinear().domain([0,l.x]).range([0,a.x]):u,s=void 0===s?n.scaleLinear().domain([0,l.y]).range([0,a.y]):s,d=void 0===d?n.scaleLinear().domain([0,l.z]).range([0,a.z]):d,f=void 0===f?n.scaleOrdinal().domain(o).range(i):f,h=void 0===h?n.scaleLinear().domain([0,p]).range(v):h;var g=c.axisThreePlane().xScale(u).yScale(s).zScale(d),x=c.bubblesMultiSeries().xScale(u).yScale(s).zScale(d).sizeScale(h).colorScale(f);m.select(".axis").call(g),m.select(".chart").datum(e).call(x)})}return p.width=function(n){return arguments.length?(e=n,this):e},p.height=function(n){return arguments.length?(r=n,this):r},p.dimensions=function(n){return arguments.length?(a=n,this):a},p.xScale=function(n){return arguments.length?(u=n,p):u},p.yScale=function(n){return arguments.length?(s=n,p):s},p.zScale=function(n){return arguments.length?(d=n,p):d},p.colorScale=function(n){return arguments.length?(f=n,p):f},p.colors=function(n){return arguments.length?(i=n,p):i},p.sizeScale=function(n){return arguments.length?(h=n,p):h},p.sizeDomain=function(n){return arguments.length?(v=n,p):v},p.debug=function(n){return arguments.length?(l=n,p):l},p},scatterPlot:function(){var e=500,r=500,a={x:40,y:40,z:40},i="orange",o="x3dScatterPlot",l=!1,u=void 0,s=void 0,d=void 0;function f(f){var h=f.append("x3d").attr("width",e+"px").attr("height",r+"px");l&&h.attr("showLog","true").attr("showStat","true");var v=h.append("scene");v.classed(o,!0).selectAll("group").data(["axis","chart"]).enter().append("group").attr("class",function(n){return n});var p=c.viewpoint().centerOfRotation([a.x/2,a.y/2,a.z/2]);v.call(p),v.each(function(e){var r;r=t(e).summary().maxCoordinates,u=void 0===u?n.scaleLinear().domain([0,r.x]).range([0,a.x]):u,s=void 0===s?n.scaleLinear().domain([0,r.y]).range([0,a.y]):s,d=void 0===d?n.scaleLinear().domain([0,r.z]).range([0,a.z]):d;var o=c.axisThreePlane().xScale(u).yScale(s).zScale(d),l=c.bubbles().xScale(u).yScale(s).zScale(d).color(i).sizeDomain([.5,.5]);v.select(".axis").call(o),v.select(".chart").datum(e).call(l)})}return f.width=function(n){return arguments.length?(e=n,this):e},f.height=function(n){return arguments.length?(r=n,this):r},f.dimensions=function(n){return arguments.length?(a=n,this):a},f.xScale=function(n){return arguments.length?(u=n,f):u},f.yScale=function(n){return arguments.length?(s=n,f):s},f.zScale=function(n){return arguments.length?(d=n,f):d},f.color=function(n){return arguments.length?(i=n,f):i},f.debug=function(n){return arguments.length?(l=n,f):l},f},surfaceArea:function(){var e=500,r=500,a={x:40,y:40,z:40},i=["blue","red"],o="x3dSurfaceArea",l=!1,u=void 0,s=void 0,d=void 0,f=void 0;function h(h){var v=h.append("x3d").attr("width",e+"px").attr("height",r+"px");l&&v.attr("showLog","true").attr("showStat","true");var p=v.append("scene");p.classed(o,!0).selectAll("group").data(["axis","chart"]).enter().append("group").attr("class",function(n){return n});var g=c.viewpoint().centerOfRotation([a.x/2,a.y/2,a.z/2]);p.call(g),p.each(function(e){var r,o,l,h;r=t(e).summary(),o=r.rowKeys,l=r.columnKeys,h=[0,r.maxValue],f=void 0===f?n.scaleLinear().domain(h).range(i).interpolate(n.interpolateLab):f,u=void 0===u?n.scalePoint().domain(o).range([0,a.x]):u,s=void 0===s?n.scaleLinear().domain(h).range([0,a.y]).nice():s,d=void 0===d?n.scalePoint().domain(l).range([0,a.z]):d;var v=c.axisThreePlane().xScale(u).yScale(s).zScale(d),g=c.surfaceArea().xScale(u).yScale(s).zScale(d).colors(i);p.select(".axis").call(v),p.select(".chart").datum(e).call(g)})}return h.width=function(n){return arguments.length?(e=n,this):e},h.height=function(n){return arguments.length?(r=n,this):r},h.dimensions=function(n){return arguments.length?(a=n,this):a},h.xScale=function(n){return arguments.length?(u=n,h):u},h.yScale=function(n){return arguments.length?(s=n,h):s},h.zScale=function(n){return arguments.length?(d=n,h):d},h.colorScale=function(n){return arguments.length?(f=n,h):f},h.colors=function(n){return arguments.length?(i=n,h):i},h.debug=function(n){return arguments.length?(l=n,h):l},h}},s="James Saunders";return{version:"1.0.14",author:s,copyright:"Copyright (C) "+(new Date).getFullYear()+" "+s,license:"GPL-2.0",dataTransform:t,chart:u,component:c}});